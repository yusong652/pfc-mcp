{
  "command": "model results",
  "category": "model",
  "search_keywords": [
    "results",
    "export",
    "snapshot"
  ],
  "description": "Perform file operations on results files. Results files are lightweight versions of save files (about 5% of save file size). Importing results files will fully overwrite the model state (as with 'model restore'), but only a small, predetermined portion of the complete model is included. A state imported from a results file cannot be further cycled. Results files are commonly used to export model states at regular intervals — both to allow the creation of a movie later and to make it easy to check the progress of a model during solution. The user controls what information is included in a results file using the 'results' keyword available to many model objects (e.g., 'zone results', 'ball results', 'clump results').",
  "syntax": "model results <keyword>",
  "keywords": [
    {
      "name": "clear-map",
      "syntax": "clear-map",
      "description": "Clear the current list of tabulated results"
    },
    {
      "name": "export",
      "syntax": "export <s> <text>",
      "description": "Export the results file to the file s. Default extension: 'f3result' (FLAC3D), 'p2result' (PFC2D), 'p3result' (PFC3D). By default exports in binary format. The 'text' keyword specifies text format export"
    },
    {
      "name": "import",
      "syntax": "import <s> | <i> <skip-fish>",
      "description": "Import the contents of the results file s or the results file with index i. If an integer is given, a prospective filename is created using the prefix. Default extension: 'f3result' (FLAC3D), 'p2result' (PFC2D), 'p3result' (PFC3D). By default, the FISH state is reset and any FISH variables saved with the results file are imported. The 'skip-fish' keyword keeps current FISH state intact and does not import stored FISH variables"
    },
    {
      "name": "index",
      "syntax": "index <i>",
      "description": "Specify the numeric index to use for the name of the next results file to be exported. Default: 1"
    },
    {
      "name": "interval",
      "syntax": "interval <keyword>",
      "description": "Control the interval at which results files are exported during cycling, if at all. Default: 'model results interval active off'",
      "sub_keywords": [
        {
          "name": "active",
          "syntax": "active <b>",
          "description": "Turn automatic exporting of results files on and off. Default: off. In general, setting an export interval will automatically turn exporting on"
        },
        {
          "name": "clock",
          "syntax": "clock <f> <keyword>",
          "description": "Activate exporting of results files at real-time intervals. f specifies the amount of time between exports. Keywords: hours, minutes, seconds",
          "sub_sub_keywords": [
            {
              "name": "hours",
              "syntax": "hours",
              "description": "f is in hours between result file exports"
            },
            {
              "name": "minutes",
              "syntax": "minutes",
              "description": "f is in minutes between result file exports"
            },
            {
              "name": "seconds",
              "syntax": "seconds",
              "description": "f is in seconds between result file exports"
            }
          ]
        },
        {
          "name": "creep",
          "syntax": "creep <f>",
          "description": "Export a result file every f units of accumulated creep time"
        },
        {
          "name": "dynamic",
          "syntax": "dynamic <f>",
          "description": "Export a result file every f units of accumulated dynamic time"
        },
        {
          "name": "fluid",
          "syntax": "fluid <f>",
          "description": "Export a result file every f units of accumulated fluid time"
        },
        {
          "name": "mechanical",
          "syntax": "mechanical <f>",
          "description": "Export a result file every f units of accumulated mechanical time. Note: this includes cycles taken under static, creep, or dynamic conditions. Static cycling always uses a timestep of 1.0"
        },
        {
          "name": "step",
          "syntax": "step <i>",
          "description": "Export a result file every i cycles. Note: for loosely coupled analyses (see 'model solve' command) the steps are 'super-cycles', and do not include steps taken to solve slave processes to equilibrium"
        },
        {
          "name": "thermal",
          "syntax": "thermal <f>",
          "description": "Export a result file every f units of accumulated thermal time"
        }
      ]
    },
    {
      "name": "list",
      "syntax": "list",
      "description": "List the current results file settings. This list starts with a detailed breakdown of all optional values which can be included, and their current setting. It ends with the current interval values"
    },
    {
      "name": "map",
      "syntax": "map <s> | <sy>",
      "description": "Place the list of tabulated results into a FISH map. If the FISH variable does not exist a string name must be given. Otherwise the symbol name can be given without quotes. The keys are either the super-cycle numbers or the accumulated time at the instant of tabulation while the values are the results file names"
    },
    {
      "name": "prefix",
      "syntax": "prefix <s>",
      "description": "Specify the prefix used for automatically exported result files. Default: 'flac3d' (FLAC3D), 'pfc2d' (PFC2D), 'pfc3d' (PFC3D)"
    },
    {
      "name": "warn",
      "syntax": "warn <b>",
      "description": "Specify whether the user will be notified if a results file overwrites an existing results file when cycling is initiated from the console"
    }
  ],
  "notes": [
    "Results files are lightweight save files (about 5% of size)",
    "Importing results overwrites model state completely (like 'model restore')",
    "IMPORTANT: States imported from results files CANNOT be further cycled",
    "User controls included information via object-specific 'results' keywords (e.g., 'zone results', 'ball results', 'clump results')",
    "Common uses:",
    "  - Create movies by exporting states at regular intervals",
    "  - Check model progress during long solutions",
    "  - Post-process results without full save file overhead",
    "Results file settings are part of model state (saved/restored with model)",
    "Settings reset after 'model new' command",
    "Automatic file naming: prefixXXXX.result (XXXX = 4-digit index with leading zeros)",
    "Default prefix: 'flac3d' (FLAC3D), 'pfc2d' (PFC2D), 'pfc3d' (PFC3D)",
    "Default index: 1 (auto-increments after each export)",
    "Default extension: 'f3result' (FLAC3D), 'p2result' (PFC2D), 'p3result' (PFC3D)",
    "Export formats: binary (default) or text (slower, larger, human-readable)",
    "Interval types: step (cycles), mechanical time, thermal time, creep time, dynamic time, fluid time, wall-clock time",
    "Movie creation: Use 'Generate Movie Frames…' wizard in Tools menu",
    "Options Dialog: 'Results' section controls output interval and values",
    "For loosely coupled analyses: steps are 'super-cycles' (exclude slave process steps)"
  ],
  "examples": [
    {
      "command": "model results export 'final_state.p3result'",
      "description": "Export current state to results file (explicit extension)"
    },
    {
      "command": "model results export 'snapshot'",
      "description": "Export to 'snapshot.p3result' (extension added automatically)"
    },
    {
      "command": "model results export 'debug' text",
      "description": "Export as human-readable text format (larger file)"
    },
    {
      "command": "model results import 'snapshot.p3result'",
      "description": "Import results file (overwrites current state)"
    },
    {
      "command": "model results import 5",
      "description": "Import results file with index 5 (e.g., 'pfc3d0005.p3result')"
    },
    {
      "command": "model results import 'snapshot.p3result' skip-fish",
      "description": "Import results but keep current FISH state intact"
    },
    {
      "command": "model results prefix 'simulation'\nmodel results index 1\nmodel results interval step 1000",
      "description": "Setup automatic export every 1000 cycles as 'simulation0001.p3result', 'simulation0002.p3result', etc."
    },
    {
      "command": "model results interval mechanical 0.5",
      "description": "Export results every 0.5 units of mechanical time"
    },
    {
      "command": "model results interval step 500",
      "description": "Export results every 500 cycles"
    },
    {
      "command": "model results interval clock 30 minutes",
      "description": "Export results every 30 minutes of real (wall-clock) time"
    },
    {
      "command": "model results interval active on",
      "description": "Enable automatic results export (usually set automatically when interval specified)"
    },
    {
      "command": "model results interval active off",
      "description": "Disable automatic results export"
    },
    {
      "command": "model results list",
      "description": "Display current results file settings and included values"
    },
    {
      "command": "model results prefix 'movie_frames'\nmodel results index 1\nmodel results interval step 100\nball results active true\nmodel solve ratio 1e-5",
      "description": "Setup for movie creation: export ball states every 100 cycles during solve"
    },
    {
      "command": "clump results active true\nclump results add-attribute velocity\nmodel results prefix 'clump_motion'\nmodel results interval step 50\nmodel cycle 5000",
      "description": "Export clump positions and velocities every 50 cycles"
    },
    {
      "command": "model results warn off",
      "description": "Suppress warnings when overwriting existing results files"
    },
    {
      "command": "model results map results_map",
      "description": "Store results file list in FISH map variable"
    },
    {
      "command": "model results clear-map",
      "description": "Clear the current list of tabulated results"
    }
  ],
  "python_sdk_alternative": {
    "available": false,
    "workaround": "itasca.command('model results ...') - Python SDK does not provide direct results file control. For exporting states in Python, use:\n\n# Setup automatic export\nitasca.command('model results prefix \"simulation\"')\nitasca.command('model results interval step 1000')\n\n# Manual export\nitasca.command('model results export \"snapshot.p3result\"')\n\n# Import\nitasca.command('model results import \"snapshot.p3result\"')"
  }
}
