{
  "command": "model thermal",
  "category": "model",
  "search_keywords": [
    "thermal",
    "temperature"
  ],
  "description": "This command sets parameters for a thermal material analysis (only available if 'model configure thermal' has been specified). The thermal process is on by default when the 'model configure thermal' command is given. The activity can be directly specified by providing b.",
  "syntax": "model thermal <b> <keyword>",
  "keywords": [
    {
      "name": "active",
      "syntax": "active <b>",
      "description": "The thermal process is on, by default, when the 'model configure thermal' command is given. Specify 'active off' to suppress thermal calculations"
    },
    {
      "name": "list",
      "syntax": "list",
      "description": "Display thermal calculation-mode information"
    },
    {
      "name": "slave",
      "syntax": "slave <b>",
      "description": "Specifies that thermal mode is to be considered a slave, and cycled to equilibrium after each master step has been taken. This particular option is provided for completeness, but is rarely useful in thermal calculations"
    },
    {
      "name": "substep",
      "syntax": "substep <i>",
      "description": "Specifies the maximum number of steps the thermal process will take when solving with slave on"
    },
    {
      "name": "time-total",
      "syntax": "time-total <f>",
      "description": "f is the accumulated thermal time for the model. This can be reset to any value, and will continue to be accumulated during cycling after that"
    },
    {
      "name": "timestep",
      "syntax": "timestep <keyword>",
      "description": "Configure timestep calculation and behavior for thermal process",
      "sub_keywords": [
        {
          "name": "automatic",
          "syntax": "automatic",
          "description": "The stable timestep is calculated automatically. This is the default setting"
        },
        {
          "name": "fix",
          "syntax": "fix <f>",
          "description": "Set the timestep to be the fixed value f. All timestep calculations are skipped. Setting a value greater than the calculated critical timestep will result in an error"
        },
        {
          "name": "increment",
          "syntax": "increment <f>",
          "description": "Set the incremental amount that the timestep is allowed to increase from one cycle to the next in auto mode. Default: f = 1.05. The timestep can decrease by any amount to ensure stability"
        },
        {
          "name": "maximum",
          "syntax": "maximum <f>",
          "description": "Set the maximum allowed timestep. By default, there is no bound to the maximum timestep"
        },
        {
          "name": "safety-factor",
          "syntax": "safety-factor <f>",
          "description": "Set the timestep safety factor, or the factor that is multiplied by the stable timestep calculated when auto mode. Default: f = 0.8"
        },
        {
          "name": "update",
          "syntax": "update <i>",
          "description": "This value is not used in FLAC3D thermal timestep calculations"
        }
      ]
    }
  ],
  "notes": [
    "PREREQUISITE: Only available if 'model configure thermal' has been specified",
    "Thermal process is ON by default when 'model configure thermal' is given",
    "timestep automatic: default mode - calculates stable timestep automatically",
    "timestep fix: fixed timestep - skips calculations, error if exceeds critical timestep",
    "timestep increment: controls maximum timestep increase rate (default 1.05), can decrease freely",
    "timestep maximum: sets upper bound on timestep (default: unbounded)",
    "timestep safety-factor: multiplies calculated stable timestep (default: 0.8)",
    "timestep update: not used in FLAC3D thermal calculations",
    "slave mode: thermal analysis runs to equilibrium after each master step (rarely useful)",
    "substep: max steps for slave mode",
    "time-total: can be reset to any value, accumulates during cycling",
    "Similar structure to 'model mechanical' command",
    "Used for coupled thermo-mechanical analysis"
  ],
  "examples": [
    {
      "command": "model configure thermal\nmodel thermal active on",
      "description": "Configure thermal mode and ensure thermal process is active"
    },
    {
      "command": "model thermal active off",
      "description": "Suppress thermal calculations (while keeping thermal configured)"
    },
    {
      "command": "model thermal list",
      "description": "Display thermal calculation-mode information"
    },
    {
      "command": "model thermal time-total 0.0",
      "description": "Reset accumulated thermal time to zero"
    },
    {
      "command": "model thermal timestep automatic",
      "description": "Use automatic thermal timestep calculation (default)"
    },
    {
      "command": "model thermal timestep fix 1e-3",
      "description": "Set fixed thermal timestep to 1e-3"
    },
    {
      "command": "model thermal timestep increment 1.1",
      "description": "Allow thermal timestep to increase by 10% per cycle"
    },
    {
      "command": "model thermal timestep maximum 1e-2",
      "description": "Set maximum thermal timestep to 1e-2"
    },
    {
      "command": "model thermal timestep safety-factor 0.9",
      "description": "Use 90% of calculated stable timestep (default is 0.8)"
    },
    {
      "command": "model configure thermal\nmodel thermal timestep automatic\nmodel thermal timestep safety-factor 0.8\nmodel thermal timestep maximum 1e-2",
      "description": "Configure thermal with automatic timestep, safety factor, and maximum limit"
    },
    {
      "command": "model thermal slave on\nmodel thermal substep 500",
      "description": "Set thermal mode as slave with max 500 substeps (rarely used)"
    },
    {
      "command": "model configure thermal\n; ... setup thermal properties ...\nmodel solve thermal ratio 1e-5",
      "description": "Configure thermal and solve thermal process to equilibrium"
    }
  ],
  "python_sdk_alternative": {
    "available": false,
    "workaround": "itasca.command('model thermal ...') - Python SDK does not provide direct thermal configuration. For thermal time: itasca.thermal_time() may be available depending on version"
  }
}
