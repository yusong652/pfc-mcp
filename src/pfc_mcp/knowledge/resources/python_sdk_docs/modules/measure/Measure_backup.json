{
  "class": "Measure",
  "description": "Measurement sphere object for monitoring local physical quantities in PFC. Obtained via itasca.measure.find() or itasca.measure.list().",
  "note": "Objects of this type should not be created (instantiated) directly in Python. Use module functions that return instances.",
  "method_groups": {
    "identification": ["id", "valid", "delete"],
    "position": ["pos", "pos_x", "pos_y", "pos_z", "set_pos", "set_pos_x", "set_pos_y", "set_pos_z"],
    "geometry": ["radius", "set_radius"],
    "measurements": ["coordination", "porosity", "size", "strainrate", "strainrate_full", "stress", "stress_full"]
  },
  "methods": {
    "id": {
      "signature": "id() → int",
      "description": "Get the measure id",
      "returns": "int - The unique ID number of this measurement object",
      "example": "measure_id = measure.id()"
    },
    "valid": {
      "signature": "valid() → bool",
      "description": "Returns True if this measure is live",
      "returns": "bool - True if the measurement object exists in the model, False otherwise",
      "example": "if measure.valid():\n    print('Measure is active')"
    },
    "delete": {
      "signature": "delete() → None",
      "description": "Delete this measurement object",
      "returns": "None",
      "example": "measure.delete()",
      "warning": "After calling delete(), the object reference becomes invalid"
    },
    "pos": {
      "signature": "pos() → vec",
      "description": "Get the measure location (vector)",
      "returns": "vec - 3D vector (x, y, z) representing the measurement sphere center",
      "example": "position = measure.pos()\nprint(f'Measure at {position}')"
    },
    "pos_x": {
      "signature": "pos_x() → float",
      "description": "Get the x-component of the measure location",
      "returns": "float - X-coordinate of the measurement sphere center",
      "example": "x = measure.pos_x()"
    },
    "pos_y": {
      "signature": "pos_y() → float",
      "description": "Get the y-component of the measure location",
      "returns": "float - Y-coordinate of the measurement sphere center",
      "example": "y = measure.pos_y()"
    },
    "pos_z": {
      "signature": "pos_z() → float",
      "description": "Get the z-component of the measure location",
      "returns": "float - Z-coordinate of the measurement sphere center",
      "example": "z = measure.pos_z()"
    },
    "set_pos": {
      "signature": "set_pos(value: vec) → None",
      "description": "Set the measure location (vector)",
      "parameters": [
        {
          "name": "value",
          "type": "vec",
          "description": "3D vector specifying the new center position"
        }
      ],
      "returns": "None",
      "example": "from itasca import vec\nmeasure.set_pos(vec(1.0, 2.0, 3.0))"
    },
    "set_pos_x": {
      "signature": "set_pos_x(value: float) → None",
      "description": "Set the x-component of the measure location",
      "parameters": [
        {
          "name": "value",
          "type": "float",
          "description": "New x-coordinate"
        }
      ],
      "returns": "None",
      "example": "measure.set_pos_x(5.0)"
    },
    "set_pos_y": {
      "signature": "set_pos_y(value: float) → None",
      "description": "Set the y-component of the measure location",
      "parameters": [
        {
          "name": "value",
          "type": "float",
          "description": "New y-coordinate"
        }
      ],
      "returns": "None",
      "example": "measure.set_pos_y(5.0)"
    },
    "set_pos_z": {
      "signature": "set_pos_z(value: float) → None",
      "description": "Set the z-component of the measure location",
      "parameters": [
        {
          "name": "value",
          "type": "float",
          "description": "New z-coordinate"
        }
      ],
      "returns": "None",
      "example": "measure.set_pos_z(5.0)"
    },
    "radius": {
      "signature": "radius() → float",
      "description": "Get the measure radius",
      "returns": "float - Radius of the measurement sphere",
      "example": "r = measure.radius()\nprint(f'Measurement sphere radius: {r}')"
    },
    "set_radius": {
      "signature": "set_radius(value: float) → None",
      "description": "Set the measure radius",
      "parameters": [
        {
          "name": "value",
          "type": "float",
          "description": "New radius for the measurement sphere"
        }
      ],
      "returns": "None",
      "example": "measure.set_radius(2.5)",
      "notes": "Changing the radius affects which particles are included in measurements"
    },
    "coordination": {
      "signature": "coordination() → float",
      "description": "Get the measure coordination",
      "returns": "float - Average coordination number (contacts per particle) within the measurement sphere",
      "example": "coord = measure.coordination()\nprint(f'Average coordination: {coord:.2f}')",
      "notes": "Coordination number indicates the average number of contacts per particle"
    },
    "porosity": {
      "signature": "porosity() → float",
      "description": "Get the measure porosity",
      "returns": "float - Porosity value (void ratio) within the measurement sphere",
      "example": "por = measure.porosity()\nprint(f'Porosity: {por:.3f}')",
      "notes": "Porosity is the ratio of void volume to total volume"
    },
    "size": {
      "signature": "size() → array float{nbin,2}",
      "description": "Get a numpy array of the cumulative size distribution falling within this measure object where nbin is the number of bins for the size distribution calculation",
      "returns": "numpy array - 2D array where each row contains [size, cumulative_fraction]",
      "example": "size_dist = measure.size()\nfor size, frac in size_dist:\n    print(f'Size {size}: {frac*100:.1f}%')",
      "notes": "Number of bins is set via MEASURE CREATE or MEASURE MODIFY commands"
    },
    "strainrate": {
      "signature": "strainrate() → tensor",
      "description": "Get the strain rate tensor calculated for this measurement object",
      "returns": "tensor - Symmetric strain rate tensor",
      "example": "sr = measure.strainrate()\nprint(f'Strain rate tensor: {sr}')",
      "notes": "Returns the symmetric part of the velocity gradient tensor"
    },
    "strainrate_full": {
      "signature": "strainrate_full() → tensor",
      "description": "Get the full strain rate tensor calculated for this measurement object",
      "returns": "tensor - Full (non-symmetric) strain rate tensor",
      "example": "sr_full = measure.strainrate_full()\nprint(f'Full strain rate: {sr_full}')",
      "notes": "Includes both symmetric and antisymmetric components"
    },
    "stress": {
      "signature": "stress() → tensor",
      "description": "Get the stress tensor calculated for this measurement object",
      "returns": "tensor - Symmetric stress tensor",
      "example": "stress = measure.stress()\nprint(f'Stress tensor: {stress}')",
      "notes": "Computed from contact forces within the measurement sphere"
    },
    "stress_full": {
      "signature": "stress_full() → tensor",
      "description": "Get the full stress tensor calculated for this measurement object",
      "returns": "tensor - Full (non-symmetric) stress tensor",
      "example": "stress_full = measure.stress_full()\nprint(f'Full stress: {stress_full}')",
      "notes": "Includes all stress components"
    }
  },
  "usage_examples": [
    {
      "title": "Monitor stress in a region",
      "code": "# Create measurement sphere (via PFC command)\nitasca.command('measure create id 1 position (5,5,5) radius 2.0')\n\n# Access and monitor\nmeasure = itasca.measure.find(1)\nif measure:\n    stress = measure.stress()\n    porosity = measure.porosity()\n    print(f'Stress: {stress}, Porosity: {porosity}')"
    },
    {
      "title": "Track measurements over time",
      "code": "# During cycling\nfor step in range(1000):\n    itasca.command('cycle 100')\n    measure = itasca.measure.find(1)\n    if measure:\n        coord = measure.coordination()\n        strain = measure.strainrate()\n        print(f'Step {step}: coord={coord:.2f}, strain={strain}')"
    },
    {
      "title": "Multiple measurement spheres",
      "code": "# Create multiple measurement locations\nlocations = [(0,0,0), (5,0,0), (0,5,0)]\nfor i, (x, y, z) in enumerate(locations, 1):\n    itasca.command(f'measure create id {i} pos ({x},{y},{z}) radius 1.5')\n\n# Collect data from all\nfor measure in itasca.measure.list():\n    pos = measure.pos()\n    stress = measure.stress()\n    print(f'Measure {measure.id()} at {pos}: stress={stress}')"
    }
  ],
  "see_also": [
    "itasca.measure.find()",
    "itasca.measure.list()",
    "PFC MEASURE commands for creation and configuration"
  ]
}
