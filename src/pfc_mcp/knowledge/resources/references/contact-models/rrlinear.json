{
  "model": "rrlinear",
  "full_name": "Rolling Resistance Linear Model",
  "search_keywords": ["rrlinear", "rolling", "contact", "model"],
  "description": "Rolling resistance linear model extends the standard linear contact model by incorporating a torque mechanism that opposes rolling motion. This simple model simulates real-world effects like surface roughness and adhesion without requiring additional damping parameters. The rolling resistance torque counteracts rolling motion, making it particularly useful for granular materials where rolling behavior significantly affects overall response.",

  "typical_applications": [
    "Granular materials with significant rolling resistance",
    "Heap repose angle analysis",
    "Materials where particle shape effects are approximated via rolling resistance",
    "Simulations requiring energy dissipation through rolling motion",
    "Single sphere rolling and sliding analysis"
  ],

  "key_characteristics": [
    "Extends linear model with rolling resistance mechanism",
    "Applies torque opposing rolling motion at contact point",
    "Simulates surface roughness and adhesion effects",
    "Rolling friction coefficient uses minimum value inheritance from contacting pieces",
    "Separate energy tracking for rolling strain and rolling slip dissipation",
    "Does not require additional damping parameters for rolling dissipation",
    "Compatible with standard linear elastic-frictional behavior"
  ],

  "property_groups": [
    {
      "name": "Linear Group",
      "description": "Base linear elastic and frictional properties (same as linear model)",
      "properties": [
        {
          "keyword": "kn",
          "symbol": "k_n",
          "description": "Normal stiffness [force/length]",
          "type": "FLT",
          "range": "[0.0, +∞)",
          "default": "0.0",
          "modifiable": true,
          "inheritable": true,
          "notes": "Primary elastic property. Controls normal force-displacement relationship. Can be set directly or calculated via 'deformability' method using emod/kratio. Inheritance uses series formula: 1/kn = 1/kn(1) + 1/kn(2)."
        },
        {
          "keyword": "ks",
          "symbol": "k_s",
          "description": "Shear stiffness [force/length]",
          "type": "FLT",
          "range": "[0.0, +∞)",
          "default": "0.0",
          "modifiable": true,
          "inheritable": true,
          "notes": "Primary elastic property. Controls shear force-displacement relationship. Can be set directly or calculated via 'deformability' method using emod/kratio. Inheritance uses series formula: 1/ks = 1/ks(1) + 1/ks(2)."
        },
        {
          "keyword": "fric",
          "symbol": "μ",
          "description": "Friction coefficient [-]",
          "type": "FLT",
          "range": "[0.0, +∞)",
          "default": "0.0",
          "modifiable": true,
          "inheritable": true,
          "notes": "Coulomb friction coefficient for sliding. Shear force limited to fric × |normal force|. Separate from rolling friction coefficient (rr_fric). Inheritance uses minimum: fric = min(fric(1), fric(2))."
        },
        {
          "keyword": "rgap",
          "symbol": "g_r",
          "description": "Reference gap [length]",
          "type": "FLT",
          "range": "ℝ",
          "default": "0.0",
          "modifiable": true,
          "inheritable": false,
          "notes": "Reference surface gap. Used to define initial contact configuration. Typically 0.0 for initially touching contacts."
        },
        {
          "keyword": "lin_mode",
          "symbol": "M_l",
          "description": "Normal-force update mode [-]",
          "type": "INT",
          "range": "{0, 1}",
          "default": "0",
          "modifiable": true,
          "inheritable": false,
          "notes": "Controls how normal force is updated during contact.",
          "values": [
            {
              "value": 0,
              "description": "update is absolute - force recalculated each cycle"
            },
            {
              "value": 1,
              "description": "update is incremental - force accumulated incrementally"
            }
          ]
        },
        {
          "keyword": "emod",
          "symbol": "E*",
          "description": "Effective modulus [force/area]",
          "type": "FLT",
          "range": "[0.0, +∞)",
          "default": "0.0",
          "modifiable": false,
          "inheritable": "N/A",
          "notes": "Used with 'deformability' method to calculate kn and ks. Not a direct property - set via method argument. Represents effective elastic modulus of the contact."
        },
        {
          "keyword": "kratio",
          "symbol": "κ*",
          "description": "Normal-to-shear stiffness ratio [-]",
          "type": "FLT",
          "range": "[0.0, +∞)*",
          "default": "0.0*",
          "modifiable": false,
          "inheritable": "N/A",
          "notes": "Used with 'deformability' method to calculate kn and ks. Defined as κ* ≡ k_n / k_s. By convention, κ* = 0.0 if either normal or shear stiffness is 0."
        },
        {
          "keyword": "lin_slip",
          "symbol": "s",
          "description": "Slip state [-]",
          "type": "BOOL",
          "range": "{false, true}",
          "default": "false",
          "modifiable": false,
          "inheritable": "N/A",
          "notes": "Read-only state indicator. True when contact is slipping (shear force at friction limit), false when not slipping.",
          "values": [
            {
              "value": true,
              "description": "slipping - shear force at friction limit"
            },
            {
              "value": false,
              "description": "not slipping - shear force below friction limit"
            }
          ]
        },
        {
          "keyword": "lin_force",
          "symbol": "F^l",
          "description": "Linear force (contact plane coordinate system) [force]",
          "type": "VEC",
          "range": "ℝ³",
          "default": "0",
          "modifiable": true,
          "inheritable": false,
          "notes": "Force vector in contact plane coordinates: (-F_n^l, F_ss^l, F_st^l). In 2D models: F_ss^l ≡ 0. Negative normal component indicates compression.",
          "components": {
            "2D": "(-F_n^l, F_st^l)",
            "3D": "(-F_n^l, F_ss^l, F_st^l)"
          }
        },
        {
          "keyword": "user_area",
          "symbol": "A",
          "description": "Constant area [length*length]",
          "type": "FLT",
          "range": "(0.0, +∞)",
          "default": "0.0",
          "modifiable": true,
          "inheritable": false,
          "notes": "User-defined contact area. Used for stress calculations or custom contact behavior. Does not affect default force calculations."
        }
      ]
    },
    {
      "name": "Dashpot Group",
      "description": "Viscous damping properties for energy dissipation (same as linear model)",
      "properties": [
        {
          "keyword": "dp_nratio",
          "symbol": "β_n",
          "description": "Normal critical damping ratio [-]",
          "type": "FLT",
          "range": "[0.0, 1.0]",
          "default": "0.0",
          "modifiable": true,
          "inheritable": false,
          "notes": "Normal direction damping as fraction of critical damping. 0.0 = no damping, 1.0 = critical damping. Typical values: 0.5-0.8 for quasi-static simulations."
        },
        {
          "keyword": "dp_sratio",
          "symbol": "β_s",
          "description": "Shear critical damping ratio [-]",
          "type": "FLT",
          "range": "[0.0, 1.0]",
          "default": "0.0",
          "modifiable": true,
          "inheritable": false,
          "notes": "Shear direction damping as fraction of critical damping. 0.0 = no damping, 1.0 = critical damping. Typical values: 0.5-0.8 for quasi-static simulations."
        },
        {
          "keyword": "dp_mode",
          "symbol": "M_d",
          "description": "Dashpot mode [-]",
          "type": "INT",
          "range": "{0, 1, 2, 3}",
          "default": "0",
          "modifiable": true,
          "inheritable": false,
          "notes": "Controls when dashpot forces are active (tension vs compression, slipping vs not slipping).",
          "values": [
            {
              "value": 0,
              "description": "full normal & full shear - damping always active"
            },
            {
              "value": 1,
              "description": "no-tension normal & full shear - no normal damping in tension"
            },
            {
              "value": 2,
              "description": "full normal & slip-cut shear - no shear damping when slipping"
            },
            {
              "value": 3,
              "description": "no-tension normal & slip-cut shear - combined restrictions"
            }
          ]
        },
        {
          "keyword": "dp_force",
          "symbol": "F^d",
          "description": "Dashpot force (contact plane coordinate system) [force]",
          "type": "VEC",
          "range": "ℝ³",
          "default": "0",
          "modifiable": false,
          "inheritable": false,
          "notes": "Read-only dashpot force vector in contact plane coordinates: (-F_n^d, F_ss^d, F_st^d). In 2D models: F_ss^d ≡ 0. Automatically calculated based on dp_nratio, dp_sratio, and dp_mode.",
          "components": {
            "2D": "(-F_n^d, F_st^d)",
            "3D": "(-F_n^d, F_ss^d, F_st^d)"
          }
        }
      ]
    },
    {
      "name": "Rolling-Resistance Group",
      "description": "Rolling resistance properties - torque mechanism opposing rolling motion",
      "properties": [
        {
          "keyword": "rr_kr",
          "symbol": "k_r",
          "description": "Rolling resistance stiffness [force·length]",
          "type": "FLT",
          "range": "[0.0, +∞)",
          "default": "0.0",
          "modifiable": false,
          "inheritable": false,
          "notes": "Read-only. Rolling resistance rotational stiffness. Automatically calculated internally. Determines rolling torque response to relative rotation."
        },
        {
          "keyword": "rr_fric",
          "symbol": "μ_r",
          "description": "Rolling friction coefficient [-]",
          "type": "FLT",
          "range": "[0.0, +∞)",
          "default": "0.0",
          "modifiable": true,
          "inheritable": true,
          "notes": "Rolling friction coefficient. Controls rolling resistance magnitude. IMPORTANT: When multiple pieces contact, the MINIMUM value is used. Typical values: 0.1 - 0.5. Value of 0.0 means no rolling resistance.",
          "inheritance_rule": "Uses MINIMUM value from contacting pieces"
        },
        {
          "keyword": "rr_slip",
          "symbol": "s_r",
          "description": "Rolling slip state [-]",
          "type": "BOOL",
          "range": "{false, true}",
          "default": "false",
          "modifiable": false,
          "inheritable": "N/A",
          "notes": "Read-only state indicator. True when rolling resistance moment is at limit, false when below limit.",
          "values": [
            {
              "value": true,
              "description": "rolling slip - rolling resistance moment at limit"
            },
            {
              "value": false,
              "description": "no rolling slip - rolling resistance moment below limit"
            }
          ]
        },
        {
          "keyword": "rr_moment",
          "symbol": "M^r",
          "description": "Rolling resistance moment (contact plane coordinate system) [force×length]",
          "type": "VEC",
          "range": "ℝ³",
          "default": "0",
          "modifiable": true,
          "inheritable": false,
          "notes": "Rolling resistance moment vector opposing rolling motion. Applied to both contacting pieces. In 2D: only M_n^r component is non-zero.",
          "components": {
            "2D": "(M_n^r, 0, 0)",
            "3D": "(M_n^r, M_s^r, M_t^r)"
          }
        }
      ]
    }
  ],

  "energy_partitions": [
    {
      "name": "energy-strain",
      "symbol": "E_k",
      "description": "Strain energy stored in linear springs",
      "range": "[0.0, +∞)",
      "accumulated": false,
      "group": "Linear Group"
    },
    {
      "name": "energy-slip",
      "symbol": "E_μ",
      "description": "Energy dissipated by frictional slip (linear component)",
      "range": "(-∞, 0.0]",
      "accumulated": true,
      "group": "Linear Group"
    },
    {
      "name": "energy-dashpot",
      "symbol": "E_β",
      "description": "Energy dissipated by dashpots",
      "range": "(-∞, 0.0]",
      "accumulated": true,
      "group": "Dashpot Group"
    },
    {
      "name": "energy-rrstrain",
      "symbol": "E_kr",
      "description": "Strain energy stored in rolling resistance mechanism",
      "range": "[0.0, +∞)",
      "accumulated": false,
      "group": "Rolling-Resistance Group"
    },
    {
      "name": "energy-rrslip",
      "symbol": "E_μr",
      "description": "Energy dissipated by rolling slip (rolling resistance)",
      "range": "(-∞, 0.0]",
      "accumulated": true,
      "group": "Rolling-Resistance Group"
    }
  ],

  "available_methods": [
    {
      "name": "area",
      "description": "Set or query user_area. Fixes contact area independent of geometry changes.",
      "typical_args": []
    },
    {
      "name": "deformability",
      "description": "Calculate kn and ks from emod and kratio. More physically meaningful than direct stiffness specification.",
      "typical_args": ["emod", "kratio"]
    }
  ],

  "common_usage_patterns": [
    {
      "use_case": "Basic rolling resistance with direct stiffness",
      "commands": [
        "contact cmat default model rrlinear property kn 1e8 ks 5e7 fric 0.5 rr_fric 0.3"
      ],
      "description": "Set stiffnesses and friction coefficients directly. Rolling friction coefficient controls rolling resistance."
    },
    {
      "use_case": "Using deformability method (recommended)",
      "commands": [
        "contact cmat default model rrlinear method deformability emod 5e9 kratio 1.5 property fric 0.5 rr_fric 0.3"
      ],
      "description": "Calculate stiffnesses from elastic modulus. More physically meaningful parameters."
    },
    {
      "use_case": "With damping for quasi-static simulation",
      "commands": [
        "contact cmat default model rrlinear property kn 1e8 ks 5e7 fric 0.5 rr_fric 0.3 dp_nratio 0.7 dp_mode 1"
      ],
      "description": "Add normal damping (no-tension mode) to dissipate energy and reach equilibrium faster."
    },
    {
      "use_case": "Granular heap repose angle analysis",
      "commands": [
        "contact cmat default model rrlinear method deformability emod 5e9 kratio 1.5 property fric 0.5 rr_fric 0.2 dp_nratio 0.7"
      ],
      "description": "Typical setup for heap formation studies where rolling resistance affects repose angle."
    }
  ],

  "typical_parameter_values": {
    "granular_materials": {
      "kn": "1e7 - 1e9 [N/m] depending on particle size and material stiffness",
      "ks": "kn / 1.5 to kn / 2.5",
      "fric": "0.3 - 0.7 for typical granular materials (sliding friction)",
      "rr_fric": "0.1 - 0.5 (rolling friction, typically lower than sliding friction)",
      "dp_nratio": "0.5 - 0.8 for quasi-static simulations",
      "dp_mode": "1 (no-tension normal damping) is common"
    },
    "rolling_friction_guidance": {
      "low_resistance": "rr_fric = 0.0 - 0.1 (spherical, smooth particles)",
      "moderate_resistance": "rr_fric = 0.1 - 0.3 (typical granular materials)",
      "high_resistance": "rr_fric = 0.3 - 0.5 (angular, rough particles)",
      "note": "Rolling friction typically lower than sliding friction"
    }
  },

  "notes": [
    "Rolling resistance simulates effects of surface roughness and adhesion without additional damping",
    "Rolling friction coefficient (rr_fric) uses MINIMUM value inheritance from contacting pieces",
    "rr_fric = 0.0 disables rolling resistance, behaving like standard linear model",
    "Rolling resistance dissipates energy through rolling slip mechanism",
    "Separate from sliding friction (fric) - both mechanisms can be active simultaneously",
    "rr_kr (rolling stiffness) is calculated automatically, not user-settable",
    "Rolling resistance moment opposes relative rotation between contacting pieces",
    "Particularly important for granular materials where rolling affects heap angles",
    "Does not require additional damping parameters for rolling energy dissipation",
    "Compatible with all standard linear model features (damping, friction, etc.)"
  ],

  "physical_interpretation": {
    "rolling_resistance_concept": "Rolling resistance approximates the energy dissipation that occurs when particles roll over each other due to surface irregularities, adhesion, and deformation effects that are not captured by pure spherical geometry.",
    "why_use_it": "In reality, particles are not perfectly smooth spheres. Rolling resistance provides a simple way to account for particle shape effects and surface properties without complex geometry.",
    "effect_on_behavior": "Higher rolling friction increases the angle of repose in heap formations and reduces particle mobility in granular flows."
  },

  "workflow": [
    "1. Set contact model to rrlinear via CMAT or contact model assign",
    "2. Set linear stiffnesses (kn, ks) directly or via deformability method",
    "3. Set sliding friction coefficient (fric)",
    "4. Set rolling friction coefficient (rr_fric) - typically 0.1 to 0.5",
    "5. Optionally add damping for quasi-static simulations",
    "6. Rolling resistance mechanism activates automatically",
    "7. Monitor energy-rrslip to track rolling dissipation"
  ],

  "comparison_to_linear_model": {
    "similarities": [
      "Same linear elastic behavior (kn, ks)",
      "Same sliding friction mechanism (fric)",
      "Same dashpot damping options",
      "All linear model features available"
    ],
    "differences": [
      "Adds rolling resistance torque mechanism",
      "Additional property: rr_fric (rolling friction coefficient)",
      "Additional state: rr_slip (rolling slip indicator)",
      "Additional energy: energy-rrstrain, energy-rrslip",
      "Affects rotational motion and heap angles"
    ]
  },

  "related_models": [
    {
      "model": "linear",
      "description": "Base model - rrlinear extends linear with rolling resistance"
    },
    {
      "model": "arrlinear",
      "description": "Adhesive Rolling Resistance Linear Model - adds adhesion to rrlinear"
    }
  ]
}
